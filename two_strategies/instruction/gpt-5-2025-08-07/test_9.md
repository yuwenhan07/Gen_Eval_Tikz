# test_9.png

![test_9.png](../../../eval_dataset/images/test_9.png)

ä»¥ä¸‹ä¸ºé’ˆå¯¹ç»™å®šç§‘ç ”ç»˜å›¾çš„ LaTeX/TikZ é‡æ„æŒ‡å¯¼ã€‚ä¸ºé¿å…è‡†é€ å…·ä½“ç¬¦å·ï¼Œæˆ‘åœ¨å«ç³Šä¹‹å¤„ä½¿ç”¨å ä½/ç¤ºä¾‹å˜é‡åï¼ˆå¦‚ i_{L1}, i_{H1}, hat v_L, hat v_H ç­‰ï¼‰ï¼Œä½ å¯åœ¨æºç ä¸­ç›´æ¥æ›¿æ¢ä¸ºè®ºæ–‡å®é™…è®°å·ã€‚

1) æ¦‚è§ˆ
- å›¾å½¢ç±»å‹ä¸æ„å›¾
  - ç±»å‹ï¼šæ¨¡å—/ä¿¡å·æµæ¡†å›¾ï¼ˆä¸¤æ¡å¹¶è¡Œâ€œé€šé“â€æˆ–â€œæµæ°´çº¿â€ï¼Œæ¯æ¡é€šé“å†…æ˜¯è‹¥å¹²ç›¸åŒæ–¹å—æ¨¡å— MCï¼‰ã€‚
  - å¸ƒå±€ï¼šä¸Šä¸‹ä¸¤è¡Œçš„é•¿çŸ©å½¢å®¹å™¨ï¼ˆè¡¨ç¤ºä¸¤ç»„é›†åˆ/ç©ºé—´æˆ–é€šé“ï¼‰ï¼Œæ¯è¡Œå†…æœ‰å¤šä¸ªå°æ–¹å—â€œMCâ€ä»å·¦åˆ°å³æ’åˆ—ï¼Œä¸­é—´ç”¨çœç•¥å·è¡¨ç¤ºæ›´å¤šå•å…ƒï¼›å·¦å³æ–¹å‘ä¸ºä¿¡å·æµå‘ã€‚
  - ä¸»è¦å…ƒç´ å…³ç³»ï¼š
    - å·¦ä¾§ä¸¤æ¡è¾“å…¥ç®­å¤´åˆ†åˆ«è¿›å…¥ä¸Šã€ä¸‹é€šé“çš„é¦–ä¸ª MCã€‚
    - åŒä¸€è¡Œå†…ç›¸é‚» MC é—´æœ‰å‰å‘ç®­å¤´ã€‚
    - ä¸Šä¸‹ä¸¤è¡Œé¦–ã€æ¬¡çº§ MC ä¹‹é—´å­˜åœ¨äº¤å‰çš„å¯¹è§’ç®­å¤´ï¼ˆä¸Š1â†’ä¸‹2ã€ä¸‹1â†’ä¸Š2ï¼‰ã€‚
    - æœ€å³ç«¯ï¼Œä¸Šã€ä¸‹é€šé“å„è‡ªè¾“å‡ºç®­å¤´æ±‡å…¥ä¸€ä¸ªå¸¦â€œâŠ•â€çš„æ±‚å’Œç»“ç‚¹ï¼Œå³ä¾§è¾“å‡ºå•ä¸€ç›´ç®­å¤´ã€‚
  - æ ‡æ³¨ï¼šå„ç®­å¤´æ—å‡æœ‰æ–œä½“æ•°å­¦æ ‡æ³¨ï¼ˆå¦‚ i_{L1}, i_{H1}, i_{V L2}, i_{V H2} ç­‰ï¼‰ï¼›ä¸¤è¡Œå®¹å™¨å·¦ä¾§å„è‡ªå¸¦æ ‡ç­¾ V_ğ“› ä¸ V_ğ“—ï¼›ä¸¤è·¯è¾“å‡ºåˆ†åˆ«æ ‡æ³¨ hat v_ğ“›ã€hat v_ğ“—ï¼Œåˆæˆåä¸º hat iã€‚

2) æ–‡æ¡£éª¨æ¶ä¸ä¾èµ–
- æ–‡æ¡£ç±»ï¼šstandaloneï¼ˆä¾¿äºå•æ–‡ä»¶ç¼–è¯‘ã€ç›´æ¥ç”Ÿæˆå›¾ï¼‰
- å®åŒ…ä¸åº“
  - tikz, amsmath, amssymb, xcolor
  - TikZ åº“ï¼šarrows.metaï¼ˆç°ä»£ç®­å¤´ï¼‰ã€positioningï¼ˆç›¸å¯¹å®šä½ï¼‰ã€calcï¼ˆåæ ‡è®¡ç®—ï¼‰ã€fitï¼ˆå›´åˆæˆç»„ç”»â€œå®¹å™¨â€ï¼‰ã€backgroundsï¼ˆèƒŒæ™¯å±‚ï¼Œè‹¥éœ€ï¼‰ã€shapes.miscï¼ˆå’Œ sum èŠ‚ç‚¹é…åˆï¼‰
- ç¼–è¯‘å»ºè®®ï¼špdflatex æˆ– lualatex å‡å¯

3) ç‰ˆé¢ä¸ç”»å¸ƒè®¾ç½®
- å»ºè®®æ•´ä½“å°ºå¯¸ï¼šå®½åº¦çº¦ 9â€“10 cmï¼›é«˜åº¦çº¦ 5â€“6 cmï¼ˆå¯éšæ–‡ç¨¿æ å®½è°ƒæ•´ï¼‰
- åæ ‡ä¸é—´è·ï¼ˆå¯åœ¨æ ·å¼ä¸­é›†ä¸­è°ƒæ§ï¼‰
  - æ¨ªå‘æ¨¡å—é—´è·ï¼š14â€“16 mm
  - ä¸¤è¡Œï¼ˆä¸Šä¸‹å®¹å™¨ï¼‰å‚ç›´é—´è·ï¼š15â€“18 mm
  - å®¹å™¨å†…è¾¹è·ï¼ˆfit çš„ inner sepï¼‰ï¼š2.5â€“3.5 mm
  - å³ä¾§æ±‚å’Œç»“ç‚¹è·æœ€å³ MCï¼š16â€“20 mm
- å¯¹é½æ–¹å¼ï¼šä¸¤è¡Œ MC åˆ—å¯¹é½ï¼›æ±‚å’Œç»“ç‚¹ä¸ä¸Šã€ä¸‹è¡Œå³ç«¯åœ¨ç«–ç›´æ–¹å‘å¤§è‡´å±…ä¸­
- tikzpicture å‚æ•°å»ºè®®
  - font=\smallï¼ˆæˆ– \footnotesizeï¼‰ã€>=Stealthã€line cap=roundã€line join=round
  - ç»Ÿä¸€åæ ‡ç¼©æ”¾ï¼šå¯ç”¨ node distance ç®¡ç†ç›¸å¯¹é—´è·

4) å­—ä½“ä¸é…è‰²
- å­—ä½“
  - æ•°å­¦æ ‡æ³¨ä¸èŠ‚ç‚¹æ–‡æœ¬ï¼šé»˜è®¤ Computer Modernï¼ˆæˆ–æ ¹æ®è®ºæ–‡æ”¹ä¸º Times/Libertinusï¼‰
  - å­—å·ï¼š\small æˆ– \footnotesizeï¼›å›¾ä¸­æ–‡å­—å°½é‡ä¸æ­£æ–‡ä¸€è‡´
- é…è‰²
  - ä¸»è‰²ï¼šé»‘è‰²ï¼ˆçº¿æ¡ã€æ–‡å­—ï¼‰
  - è¾…åŠ©ï¼šMC æ–¹å—å¯ä¿æŒç™½åº•é»‘æ¡†ï¼›è‹¥éœ€åŒºåˆ†ï¼Œå¯è½»å¾®ç°æ¡†ï¼ˆHTML #666666ï¼‰æˆ– 50% ç°å¡«å……å¾ˆæ·¡ï¼ˆä¸å»ºè®®è¿‡æ·±ï¼Œä»¥å…æŠ¢å è§†è§‰ï¼‰
- é€æ˜/é˜´å½±/æ¸å˜ï¼šåŸå›¾æ— æ¸å˜ã€é˜´å½±ä¸é€æ˜åº¦ï¼›ä¿æŒçº¯çº¿æ¡†é£æ ¼

5) ç»“æ„ä¸ç»„ä»¶æ ·å¼
- èŠ‚ç‚¹
  - MCï¼šå°çŸ©å½¢ï¼Œç™½åº•ï¼Œé»‘æ¡†ï¼Œå†…å†™â€œMCâ€ï¼›å¤§å°çº¦ 6Ã—6 mm
  - å®¹å™¨ï¼šç»†çº¿çŸ©å½¢ï¼Œç”¨ fit å›´åˆä¸€è¡Œæ‰€æœ‰ MC ä¸çœç•¥å·ï¼›å·¦ä¾§åŠ  label=left: çš„æ•°å­¦æ ‡ç­¾ V_ğ“› / V_ğ“—
  - æ±‚å’Œç»“ç‚¹ï¼šå°åœ†ï¼Œå†…ç½®â€œâŠ•â€
  - çœç•¥å·ï¼šèŠ‚ç‚¹æ–‡æœ¬â€œâ‹¯â€
- è¾¹ä¸ç®­å¤´
  - çº¿å®½ 0.6 ptï¼›ç®­å¤´æ ·å¼ -Stealth
  - åŒè¡Œå‰å‘è¿çº¿ï¼šç›´çº¿ç®­å¤´
  - äº¤å‰è¿çº¿ï¼šè‡ªä¸Š1 â†’ ä¸‹2ã€ä¸‹1 â†’ ä¸Š2ï¼Œç›´çº¿æˆ–å¾®å¼¯æ›²ï¼›ä¸ºé¿å…ä¸å‰å‘çº¿é‡å ï¼Œå¯ä¿æŒè½»å¾®é”™ä½æˆ–åœ¨æ ‡æ³¨å¤„åŠ ç™½åº•
- æ ‡ç­¾
  - ç®­å¤´ä¸­ç‚¹å¤„åŠ æ•°å­¦æ ‡æ³¨ node[midway, <pos>, fill=white, inner sep=1pt]
  - è¾“å‡ºç«¯ä¸Šã€ä¸‹ä¸¤è·¯åˆ†åˆ«æ ‡æ³¨ hat v_ğ“›ã€hat v_ğ“—ï¼›åˆæˆè¾“å‡ºæ ‡æ³¨ hat i

6) æ•°å­¦/è¡¨æ ¼/å›¾å½¢ç»†èŠ‚
- å…¬å¼æ’ç‰ˆ
  - åœ¨ TikZ èŠ‚ç‚¹å†…ä½¿ç”¨ $...$ï¼›ç»Ÿä¸€å­—ä½“ç”¨ font=\small æ§åˆ¶
- æœ¬å›¾ä¸å«åæ ‡è½´/è¡¨æ ¼/PGFPlotsï¼›æ ¸å¿ƒä¸º TikZ çŸ©å½¢ã€ç®­å¤´ä¸ fit å®¹å™¨

7) è‡ªå®šä¹‰å®ä¸å‘½ä»¤ï¼ˆå¤ç”¨æ ·å¼ï¼‰
- é¢œè‰²ä¸æ ·å¼é›†ä¸­å®šä¹‰ï¼Œä¾¿äºå…¨å±€å¾®è°ƒï¼š
  - mc/.style={draw, rectangle, minimum width=6mm, minimum height=6mm, inner sep=0pt}
  - bus/.style={draw, rectangle, inner sep=3mm}
  - line/.style={-Stealth, line width=0.6pt}
  - sum/.style={draw, circle, inner sep=0pt, minimum size=9pt}
  - lab/.style={fill=white, inner sep=1pt}
- è®°å·å ä½ï¼š
  - \newcommand{\vL}{V_{\mathcal L}}, \newcommand{\vH}{V_{\mathcal H}}
  - \newcommand{\vhatL}{\hat{v}_{\mathcal L}}, \newcommand{\vhatH}{\hat{v}_{\mathcal H}}, \newcommand{\ihat}{\hat{\imath}}

8) æœ€å°å¯è¿è¡Œç¤ºä¾‹ (MWE)
- è¯¥ç¤ºä¾‹ä¸¥æ ¼è¿˜åŸå¸ƒå±€å’Œé£æ ¼ï¼›æŠŠå ä½æ ‡æ³¨æ›¿æ¢ä¸ºä½ çš„å®é™…ç¬¦å·å³å¯ã€‚

```latex
\documentclass[tikz,border=2pt]{standalone}
\usepackage{amsmath,amssymb}
\usepackage{xcolor}
\usetikzlibrary{arrows.meta,positioning,calc,fit,backgrounds,shapes.misc}

% ------- styles & macros -------
\tikzset{
  line/.style={-Stealth, line width=0.6pt},
  mc/.style={draw, rectangle, minimum width=6mm, minimum height=6mm, inner sep=0pt},
  bus/.style={draw, rectangle, inner sep=3mm},
  sum/.style={draw, circle, inner sep=0pt, minimum size=9pt},
  lab/.style={fill=white, inner sep=1pt}
}
\newcommand{\vL}{V_{\mathcal L}}
\newcommand{\vH}{V_{\mathcal H}}
\newcommand{\vhatL}{\hat{v}_{\mathcal L}}
\newcommand{\vhatH}{\hat{v}_{\mathcal H}}
\newcommand{\ihat}{\hat{\imath}}

\begin{document}
\begin{tikzpicture}[font=\small, >=Stealth, node distance=14mm, line cap=round, line join=round]

  % ---- top row MCs ----
  \node[mc] (t1) {MC};
  \node[mc, right=14mm of t1] (t2) {MC};
  \node[right=12mm of t2] (tdots) {$\cdots$};
  \node[mc, right=12mm of tdots] (t4) {MC};

  % ---- bottom row MCs ----
  \node[mc, below=16mm of t1] (b1) {MC};
  \node[mc, right=14mm of b1] (b2) {MC};
  \node[right=12mm of b2] (bdots) {$\cdots$};
  \node[mc, right=12mm of bdots] (b4) {MC};

  % ---- containers (fit) with left labels ----
  \node[bus, fit=(t1)(t2)(tdots)(t4), label={[xshift=-6mm]left:$\vL$}] (busL) {};
  \node[bus, fit=(b1)(b2)(bdots)(b4), label={[xshift=-6mm]left:$\vH$}] (busH) {};

  % ---- left inputs to first MCs ----
  \coordinate (L_in) at ($(busL.west)+(-8mm,0)$);
  \coordinate (H_in) at ($(busH.west)+(-8mm,0)$);
  \draw[line] (L_in) -- (t1.west)
      node[midway, below, lab] {$i_{\mathcal L 1}$}; % æ›¿æ¢ä¸ºä½ çš„å®é™…ç¬¦å·
  \draw[line] (H_in) -- (b1.west)
      node[midway, above, lab] {$i_{\mathcal H 1}$};

  % ---- forward links within rows ----
  \draw[line] (t1.east) -- (t2.west);
  \draw[line] (b1.east) -- (b2.west);
  % é€šè¿‡çœç•¥å·çš„è¿çº¿ï¼ˆåˆ†ä¸¤æ®µä»¥é¿å¼€â€œâ‹¯â€èŠ‚ç‚¹ï¼‰
  \draw[line] (t2.east) -- ($(tdots.east)+(2mm,0)$);
  \draw[line] ($(bdots.east)+(2mm,0)$) -- (b4.west);
  \draw[line] (t2.east) ++(0,0) -- ++(0,0); % å ä½ï¼Œæ˜“äºå¯¹é½
  \draw[line] (b2.east) -- ($(bdots.east)+(2mm,0)$);
  \draw[line] ($(tdots.east)+(2mm,0)$) -- (t4.west);

  % ---- cross links (diagonals) ----
  \draw[line] (t1.south) -- (b2.north)
      node[midway, right, lab] {$i_{V\mathcal{H}2}$}; % å ä½
  \draw[line] (b1.north) -- (t2.south)
      node[midway, left, lab] {$i_{V\mathcal{L}2}$};  % å ä½

  % ---- outputs to adder ----
  \node[sum, right=18mm of t4] (adder) {$\oplus$};
  \draw[line] (t4.east) -- (adder.west)
      node[midway, above, lab] {$\vhatL$}; % å ä½
  \draw[line] (b4.east) -- (adder.west)
      node[midway, below, lab] {$\vhatH$}; % å ä½
  \draw[line] (adder.east) -- ++(12mm,0) node[right] {$\ihat$}; % åˆæˆè¾“å‡º

\end{tikzpicture}
\end{document}
```

9) å¤åˆ»æ£€æŸ¥æ¸…å•
- å›¾å½¢å°ºå¯¸ä¸èŒƒå›´
  - æ•´ä½“å®½åº¦æ˜¯å¦æ¥è¿‘åˆ—å®½ï¼ˆçº¦ 9â€“10 cmï¼‰ï¼Ÿä¸Šä¸‹ä¸¤è¡Œé—´è·æ˜¯å¦ä¸åŸå›¾ä¸€è‡´ï¼Ÿ
- èŠ‚ç‚¹/è¾¹æ ·å¼
  - MC æ–¹å—å¤§å°ã€å®¹å™¨è¾¹æ¡†ç²—ç»†ã€sum ç»“ç‚¹å¤§å°ä¸â€œâŠ•â€æ˜¯å¦æ¸…æ™°
  - ç®­å¤´çº¿å®½ 0.6 ptã€-Stealth å¤´å‹ï¼Œäº¤å‰è¿çº¿è§’åº¦ä¸ä½ç½®æ˜¯å¦åˆé€‚
- å­—ä½“ä¸å­—å·
  - æ–‡æœ¬å­—å·ç»Ÿä¸€ï¼ˆ\small/æ­£æ–‡å­—å·ï¼‰ï¼›æ•°å­¦æ–œä½“æ˜¯å¦æ­£å¸¸
- é…è‰²ä¸çº¿å‹
  - çº¯é»‘çº¿æ¡ï¼›è‹¥ä½¿ç”¨ç°åº¦ï¼Œæ˜¯å¦ä¸å½±å“å¯è¯»æ€§
- ç‰¹æ®Šæ•ˆæœ
  - æ— æ¸å˜/é˜´å½±ï¼›äº¤å‰å¤„æ ‡æ³¨ç”¨ç™½åº•é®æŒ¡é¿å…é‡å 
- ä¸åŸå›¾å·®å¼‚ç‚¹
  - çœç•¥å·ä½ç½®ä¸æ•°é‡ã€MC ä¸ªæ•°ã€ç²¾ç¡®çš„ç®­å¤´æ ‡ç­¾æ–‡æœ¬å¯èƒ½ä¸åŸå›¾ç•¥æœ‰å‡ºå…¥ï¼ˆè¯·æŒ‰è®ºæ–‡ç¬¦å·æ›¿æ¢ï¼‰
  - å®¹å™¨æ˜¯å¦éœ€è¦åœ†è§’ã€åŒçº¿è¾¹æ¡†ï¼ˆåŸå›¾çœ‹èµ·æ¥ä¸ºç›´è§’å•çº¿ï¼›å¦‚éœ€è¦å¯åŠ  rounded cornersï¼‰

10) é£é™©ä¸æ›¿ä»£æ–¹æ¡ˆ
- ä¸ç¡®å®šå› ç´ 
  - ç²¾ç¡®çš„å­—ä½“ä¸å­—å·ï¼šè‹¥è®ºæ–‡ç»Ÿä¸€ä½¿ç”¨ Times/æ–°ç½—é©¬ï¼Œè¯·åœ¨å¯¼è¨€ä¸­åŠ è½½ newtxtext/newtxmath æˆ–ä½¿ç”¨ \usepackage{times}ï¼ˆä¸æ¨èï¼‰åç»Ÿä¸€ã€‚
  - ç²¾ç¡®è‰²å€¼ï¼šåŸå›¾ä¸ºé»‘ç™½ï¼›è‹¥ç¨¿ä»¶è¦æ±‚å½©è‰²ï¼Œå¯é…Œæƒ…å¼•å…¥å°‘é‡ç°é˜¶æˆ–ä¸»é¢˜è‰²ã€‚
  - æ ‡ç­¾ç²¾ç¡®å†…å®¹ï¼šç¤ºä¾‹ä¸­ç”¨å ä½ç¬¦ï¼›è¯·æŒ‰åŸæ–‡çŒ®ä¸­ç¬¦å·æ›¿æ¢ã€‚
- æ›¿ä»£æ–¹æ¡ˆ
  - å­—ä½“ï¼šé»˜è®¤ Computer Modern â†’ æ›¿æ¢ä¸º Times/Libertinus
  - ç®­å¤´åº“ï¼šarrows.meta â†’ è‹¥éœ€æ›´ç»†ç®­å¤´å¯ç”¨ Latex/Latex'ï¼›æˆ–æ›´ç²—å¯ç”¨ Stealth[scale=1.2]
  - å®¹å™¨ç»˜åˆ¶ï¼šfit â†’ ä¹Ÿå¯ç”¨æ‰‹å·¥åæ ‡ç”» rectangle å¹¶æ‰‹è°ƒ padding
  - äº¤å‰è¿çº¿ï¼šè‹¥ä¸å‰å‘çº¿é‡å ä¸¥é‡ï¼Œå¯ç”¨ bend left/bend right æˆ– out/in å¼¯æ›²å‚æ•°è½»å¾®é¿è®©

è¯´æ˜
- ä»¥ä¸Š MWE å·²åŒ…å«æ‰€æœ‰å…³é”®æ„ä»¶ä¸æ ·å¼ï¼›ä½ åªéœ€æ›¿æ¢å ä½æ•°å­¦æ ‡ç­¾ã€å¾®è°ƒé—´è·ï¼ˆnode distanceã€right=...ã€below=...ï¼‰åŠçº¿å®½å³å¯è¾¾åˆ°ä¸ç›®æ ‡å›¾ç­‰æ•ˆçš„ç‰ˆå¼ã€‚
