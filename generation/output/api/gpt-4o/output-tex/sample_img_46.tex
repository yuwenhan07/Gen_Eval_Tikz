\documentclass{standalone}
\usepackage{tikz}
\usetikzlibrary{positioning}

\begin{document}

\begin{tikzpicture}[scale=2, every node/.style={font=\footnotesize}, square/.style={regular polygon,regular polygon sides=4,draw,minimum size=5mm}]

% Tree on the left
\node (root) at (0,0) {};
\node (a1) at (-0.5,-0.5) {a};
\node (b1) at (0,-0.5) {b};
\node (c1) at (0.5,-0.5) {c};
\node (a2) at (-1,-1) {a};
\node (b2) at (-0.5,-1) {b};
\node (c2) at (0,-1) {c};
\node (a3) at (-1.5,-1.5) {a};
\node (b3) at (-1,-1.5) {b};
\node (c3) at (-0.5,-1.5) {c};

\draw[->, blue] (root) -- node[left] {$\frac{1}{2}$} (a1);
\draw[->, blue] (root) -- node[right] {$\frac{1}{2}$} (b1);
\draw[->, blue] (root) -- node[right] {$\frac{1}{4}$} (c1);

\draw[->, blue] (a1) -- node[left] {$\frac{1}{4}$} (a2);
\draw[->, blue] (a1) -- node[right] {$\frac{1}{4}$} (b2);
\draw[->, blue] (a1) -- node[right] {$\frac{1}{8}$} (c2);

\draw[->, blue] (c1) -- node[left] {$\frac{1}{8}$} (a3);
\draw[->, blue] (c1) -- node[right] {$\frac{1}{8}$} (b3);
\draw[->, blue] (c1) -- node[right] {$\frac{1}{8}$} (c3);

% Balancer on the right
\node[square] (in1) at (2,0) {};
\node[square] (in2) at (3,0) {};
\node[square] (in3) at (4,0) {};

\node[square] (out1) at (2,-2) {a};
\node[square] (out2) at (3,-2) {b};
\node[square] (out3) at (4,-2) {c};

\draw[->, blue] (in1) -- node[right] {$1$} ++(0,-0.5) coordinate (mid1);
\draw[->, blue] (in2) -- node[right] {$1$} ++(0,-0.5) coordinate (mid2);
\draw[->, blue] (in3) -- node[right] {$1$} ++(0,-0.5) coordinate (mid3);

\draw[->, blue] (mid1) -- node[right] {$\frac{1}{2}$} ++(0,-0.5) coordinate (bend1);
\draw[->, blue] (mid2) -- node[right] {$\frac{1}{2}$} ++(0,-0.5) coordinate (bend2);
\draw[->, blue] (mid3) -- node[right] {$\frac{1}{4}$} ++(0,-0.5) coordinate (bend3);

\draw[->, blue] (bend1) -- (out1);
\draw[->, blue] (bend2) -- (out2);
\draw[->, blue] (bend3) -- (out3);

\draw[->, blue] (bend1) to[out=270,in=180] node[below left] {$\frac{1}{4}$} (out2);
\draw[->, blue] (bend2) to[out=270,in=0] node[below right] {$\frac{1}{4}$} (out3);
\draw[->, blue] (bend3) to[out=270,in=180] node[below left] {$\frac{1}{8}$} (out1);

\draw[->, blue] (bend3) to[out=270,in=0] node[below right] {$\frac{1}{16}$} (out2);
\draw[->, blue] (bend3) to[out=270,in=0] node[below right] {$\frac{1}{16}$} (out3);

\end{tikzpicture}

\end{document}