\documentclass{standalone}
\usepackage{pgfplots}
\pgfplotsset{compat=1.18}
\usepackage{amsmath}
\usepackage{mathtools}

\begin{document}

\begin{figure}

\centering
\begin{tikzpicture}

% Legend
\begin{axis}[
    hide axis,
    xmin=0, xmax=1,
    ymin=0, ymax=1,
    legend style={
        draw=black,
        fill=white,
        at={(0.5,1.2)},
        anchor=north,
        legend columns=-1
    },
    legend entries={
        {P2L1 our},
        {P2L1 3Q3},
        {P2L1 Ram.+SVD},
        {P2L1 Ram.+LU},
        {P1L2 our},
    }
]

\addlegendimage{line width=1.5pt, green}
\addlegendimage{line width=1.5pt, red}
\addlegendimage{dashed, line width=1.5pt, red}
\addlegendimage{dashdotted, line width=1.5pt, brown}
\addlegendimage{dotted, line width=1.5pt, cyan}

\end{axis}

% Left plot
\begin{axis}[
    width=7cm,
    height=5cm,
    at={(0,0)},
    scale only axis,
    title={Rotation stability},
    xlabel={$\log_{10}$ of rotation error},
    ylabel={Frequency},
    xmode=log,
    ytick={0,0.5,1,1.5},
    yticklabels={$0$,$0.5$,$1$,$1.5$},
    xtick={1e-18,1e-12,1e-6},
    xticklabels={$10^{-18}$,$10^{-12}$,$10^{-6}$},
    axis y line*=left,
    axis x line*=bottom,
    ymin=0, ymax=1.5e4,
    xmin=1e-18, xmax=1e-6,
]

\addplot[green, thick] table {data/rotation_p2l1_our.dat};
\addplot[red, thick] table {data/rotation_p2l1_3q3.dat};
\addplot[red, dashed, thick] table {data/rotation_p2l1_ram_svd.dat};
\addplot[brown, dashdotted, thick] table {data/rotation_p2l1_ram_lu.dat};
\addplot[cyan, dotted, thick] table {data/rotation_p1l2_our.dat};

\end{axis}

% Right plot
\begin{axis}[
    width=7cm,
    height=5cm,
    at={(8cm,0)},
    scale only axis,
    title={Translation stability},
    xlabel={$\log_{10}$ of translation error},
    xmode=log,
    ytick={0,0.5,1,1.5},
    yticklabels={$0$,$0.5$,$1$,$1.5$},
    xtick={1e-18,1e-12,1e-6},
    xticklabels={$10^{-18}$,$10^{-12}$,$10^{-6}$},
    axis y line*=left,
    axis x line*=bottom,
    ymin=0, ymax=1.5e4,
    xmin=1e-18, xmax=1e-6,
]

\addplot[green, thick] table {data/translation_p2l1_our.dat};
\addplot[red, thick] table {data/translation_p2l1_3q3.dat};
\addplot[red, dashed, thick] table {data/translation_p2l1_ram_svd.dat};
\addplot[brown, dashdotted, thick] table {data/translation_p2l1_ram_lu.dat};
\addplot[cyan, dotted, thick] table {data/translation_p1l2_our.dat};

\end{axis}

\end{tikzpicture}

\end{figure}

\end{document}