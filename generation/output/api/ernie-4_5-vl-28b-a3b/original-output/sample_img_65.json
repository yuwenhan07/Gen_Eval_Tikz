{
  "timestamp": "2025-09-09T22:50:24",
  "model": "ernie-4.5-vl-28b-a3b",
  "temperature": 0.8,
  "top_p": 0.9,
  "max_tokens": 2048,
  "sample_index": 65,
  "image_rel_path": "images/test_65.png",
  "caption": "The bits ($b_i$) or blocks $B_n^i$ are read in a raster scan order; here $n$ indicates the patch size and $i$, the bit or the block.",
  "snippet_input": "",
  "raw_output": "Based on the image and its description, here is the LaTeX/TikZ code to generate a diagram matching the visual appearance:\n\n```latex\n\\documentclass[tikz,border=3.14mm]{standalone}\n\\usetikzlibrary{matrix,positioning}\n\\begin{document}\n\n\\tikzset{\n    block/.style={\n        rectangle,\n        minimum width=1.5cm,\n        minimum height=1.5cm,\n        outer sep=0pt,\n        text centered,\n        draw=black,\n    },\n    matrixstyle/.style={\n        matrix of nodes,\n        nodes in empty cells,\n        column sep=-\\pgflinewidth,\n        row sep=-\\pgflinewidth,\n        nodes={\n            block,\n            anchor=center,\n            minimum size=1cm\n        }\n    }\n}\n\n\\begin{tikzpicture}\n\n% First matrix\n\\matrix (B2) [matrixstyle]\n{\n    $b_1$ & $b_2$ \\\\\n    $b_3$ & $b_4$ \\\\\n};\n\\node[above=3mm of B2] (B2label) {$B_2 = \\text{Hex}(b_1b_2b_3b_4)$};\n\n% Second matrix\n\\matrix (B4) [matrixstyle, right=1.5cm of B2]\n{\n    $B_2^1$ & $B_2^2$ \\\\\n    $B_2^3$ & $B_2^4$ \\\\\n};\n\\node[above=3mm of B4] (B4label) {$B_4 = B_2^1B_2^2B_2^3B_2^4$};\n\n% Third matrix\n\\matrix (B8) [matrixstyle, right=1.5cm of B4]\n{\n    $B_4^1$ & $B_4^2$ \\\\\n    $B_4^3$ & $B_4^4$ \\\\\n};\n\\node[above=3mm of B8] (B8label) {$B_8 = B_4^1B_4^2B_4^3B_4^4$};\n\n\\end{tikzpicture}\n\n\\end{document}\n```\n\nThis code constructs a series of matrices, each representing a step in the raster scan order as described in the image. The `block` style defines the appearance of each cell, while the `matrixstyle` configuration sets up the matrix with nodes in empty cells and proper spacing. Each matrix is positioned relative to the previous one using the `right` option. The labels for each matrix are placed above them using the `node` command.",
  "extracted_code": "\\documentclass[tikz,border=3.14mm]{standalone}\n\\usetikzlibrary{matrix,positioning}\n\\begin{document}\n\n\\tikzset{\n    block/.style={\n        rectangle,\n        minimum width=1.5cm,\n        minimum height=1.5cm,\n        outer sep=0pt,\n        text centered,\n        draw=black,\n    },\n    matrixstyle/.style={\n        matrix of nodes,\n        nodes in empty cells,\n        column sep=-\\pgflinewidth,\n        row sep=-\\pgflinewidth,\n        nodes={\n            block,\n            anchor=center,\n            minimum size=1cm\n        }\n    }\n}\n\n\\begin{tikzpicture}\n\n% First matrix\n\\matrix (B2) [matrixstyle]\n{\n    $b_1$ & $b_2$ \\\\\n    $b_3$ & $b_4$ \\\\\n};\n\\node[above=3mm of B2] (B2label) {$B_2 = \\text{Hex}(b_1b_2b_3b_4)$};\n\n% Second matrix\n\\matrix (B4) [matrixstyle, right=1.5cm of B2]\n{\n    $B_2^1$ & $B_2^2$ \\\\\n    $B_2^3$ & $B_2^4$ \\\\\n};\n\\node[above=3mm of B4] (B4label) {$B_4 = B_2^1B_2^2B_2^3B_2^4$};\n\n% Third matrix\n\\matrix (B8) [matrixstyle, right=1.5cm of B4]\n{\n    $B_4^1$ & $B_4^2$ \\\\\n    $B_4^3$ & $B_4^4$ \\\\\n};\n\\node[above=3mm of B8] (B8label) {$B_8 = B_4^1B_4^2B_4^3B_4^4$};\n\n\\end{tikzpicture}\n\n\\end{document}"
}