\documentclass[tikz,border=10pt]{standalone}
\usepackage{tikz}
\usetikzlibrary{arrows.meta, positioning}

\begin{document}

\begin{tikzpicture}[
    node distance=0.5cm and 1cm,
    box/.style={draw, minimum width=1.5cm, minimum height=0.75cm},
    att_box/.style={box, fill=red!15},
    mlp_box/.style={box, fill=green!15},
    emb_box/.style={box, fill=blue!15},
    arrow/.style={-{Latex[length=3mm, width=2mm]}, thick}
]

% Top row: Input tokens
\node (cat1) [emb_box] {The};
\node (cat2) [emb_box, right=of cat1] {cat};
\node (cat3) [emb_box, right=of cat2] {is};
\node (cat4) [emb_box, right=of cat3] {on};
\node (cat5) [emb_box, right=of cat4] {the};

% Initial embeddings labels
\node[above=of cat1] {Input};
\node[above=0.1cm of cat1.north] {\small Initial Embeddings};
\foreach \i in {1,...,5}
  \node[above=0.1cm of cat\i.north] {$\epsilon_{\i}$};

% Attention layers
\foreach \i in {1,2}
{
  \begin{scope}[node distance=0.5cm and 0cm]
    \foreach \j in {1,...,5}
    {
      \ifnum\i=1
        \node [att_box, right=of \ifnum\j=5 cat5\else cat\j\fi] {Att};
      \else
        \node [att_box, right=of \ifnum\j=5 ctx\j\else ctx\j\fi] {Att};
      \fi
    }
  \end{scope}

  % MLP layers
  \foreach \j in {1,...,5}
  {
    \ifnum\i=1
      \node [mlp_box, below of=cat\j] {MLP};
    \else
      \node [mlp_box, below of=ctx\j] {MLP};
    \fi
  }

  % Contextual embeddings
  \foreach \j in {1,...,5}
  {
    \ifnum\i=1
      \node [emb_box, below of=mlp\j] {$\epsilon_{\j}$};
    \else
      \node [emb_box, below of=mlp\j, xshift=-1.2cm] {$\epsilon_{\j}$};
    \fi
  }
}

% Labels
\node[above=0.1cm of ctx1.north] {\small Contextual Embeddings};
\node[above=0.1cm of ctx5.north] {};
\node[above=0.5cm of ctx1.north] {Layer \ifnum1=1 1\else 2\fi};
\node[below=0.1cm of mlp5] {};
\node[below=0.5cm of mlp5] {Output};
\node[below=0.1cm of ctx5.south] {};
\node[below=0.1cm of ctx5.south] {\small Next Token Probabilities};

% Links between layers
\foreach \i in {1,...,4}
{
  \draw[arrow] (cat\i) -- (att\i);
  \draw[arrow] (att\i) -- (mlp\i);
  \draw[arrow] (mlp\i) -- (ctx\i);
}
\foreach \i in {1,...,4}
{
  \draw[arrow] (ctx\i) -- (att\the\numexpr\i+1\relax);
}
\draw[arrow] (ctx5) -- (mlp5);
\foreach \i in {1,...,4}
{
  \draw[arrow] (mlp\the\numexpr\i+1\relax) -- (ctx\the\numexpr\i+1\relax);
}
\draw[arrow] (mlp5) -- (Next Token Probabilities);

\end{tikzpicture}

\end{document}