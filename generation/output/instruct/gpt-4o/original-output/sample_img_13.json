{
  "prompt": "你将看到一段用于“图像到 LaTeX 复刻”的指导说明。\n请严格依照说明生成**可直接编译**的 LaTeX 源码（推荐 standalone + TikZ/PGFPlots）。\n仅输出 LaTeX 源码，无需解释；若有不确定参数请给出合理近似并保持结构一致。\n\n![test_13.png](../../../eval_dataset/images/test_13.png)\n下面是针对给定科研绘图的 LaTeX/TikZ 重构指南。\n\n### 1. 概览\n- **图形类型**：包含一个网格图和一个简单节点图。\n- **构图布局**：左侧为节点坐标（交叉节点），右侧为带有箭头的网格。\n- **主要元素关系**：节点标记重要变量，两部分图通过视觉对比呈现。\n\n### 2. 文档骨架与依赖\n- **文档类**：`\\documentclass{standalone}`\n- **核心宏包**：`tikz`\n- **TikZ 库**：`arrows.meta`, `positioning`\n\n### 3. 版面与画布设置\n- **尺寸**：建议宽度 10cm，高度自适应。\n- **坐标系范围**：网格部分为 (-0.5, -2.5) -- (5, 2.5)。\n- **对齐方式**：图形居中，网格右对齐标签。\n\n### 4. 字体与配色\n- **字体**：默认字体，建议大小 `\\small`。\n- **配色**：箭头分别使用绿色、蓝色、橙色、红色 (如 green, blue, orange, red)。\n- **无渐变或透明度**\n\n### 5. 结构与组件样式\n- **节点**：`draw`，`cross`，`minimum size=0.5cm`\n- **箭头**：`-{Stealth}`, 颜色自定义，线型`thick`。\n- **网格**：`ultra thin` 线。\n\n### 6. 数学/图形细节\n- **公式**：TikZ 节点中使用 `$...$` 进行数学表达。\n- **网格部分**：使用 `\\draw` 创建箭头并标上坐标。\n\n### 7. 自定义宏与命令\n- 可使用 `\\newcommand` 封装箭头样式。\n\n### 8. 最小可运行示例 (MWE)\n\n```latex\n\\documentclass{standalone}\n\\usepackage{tikz}\n\\usetikzlibrary{arrows.meta, positioning}\n\n\\begin{document}\n\\begin{tikzpicture}\n    % Left cross node\n    \\node[draw, cross, minimum size=0.5cm] (cross) {};\n    \\node[below left=0.1cm of cross] {$a_v$};\n    \\node[above left=0.1cm of cross] {$b_v$};\n    \\node[below right=0.1cm of cross] {$j_v$};\n    \\node[above right=0.1cm of cross] {$i_v$};\n\n    % Right grid with arrows\n    \\begin{scope}[xshift=3cm]\n        \\draw[step=1, ultra thin, black] (-0.5,-2.5) grid (5,2.5);\n\n        % Arrows\n        \\draw[->, thick, green]  (0,0) -- ++(0,1);\n        \\draw[->, thick, blue]   (1,0) -- ++(1,0);\n        \\draw[->, thick, orange] (2,0) -- ++(0,1);\n        \\draw[->, thick, red]    (3,0) -- ++(1,0);\n\n        % Labels\n        \\node at (5,-3) {$(0, -3)$};\n        \\node[right] at (5,2) {$j(4,2) = 0$};\n        \\node[right] at (5,1) {$j(4,1) = -1$};\n        \\node[right] at (5,0) {$j(4,0) = -\\infty$};\n        \\node[right] at (5,-1) {$j(4,-1) = -2$};\n        \\node[right] at (5,-2) {$j(4,-2) = -\\infty$};\n    \\end{scope}\n\\end{tikzpicture}\n\\end{document}\n```\n\n### 9. 复刻检查清单\n- **图形尺寸**：对比原图进行调整。\n- **节点/边样式**：检查箭头和节点形状。\n- **字体与字号**：确保与源文件一致。\n- **配色与线型**：多对比色值与线型。\n- **特殊效果**：确认无渐变或阴影。\n- **与原图差异点**：可能在细节或位置对齐方面需微调。\n\n### 10. 风险与替代方案\n- **不确定因素**：细微色值和字体差异。\n- **替代方案**：可使用标准字体（如 Computer Modern）与近似色替换。调整尺寸后复查整体布局。\n",
  "final_latex_code": "\\documentclass{standalone}\n\\usepackage{tikz}\n\\usetikzlibrary{arrows.meta, positioning}\n\n\\begin{document}\n\\begin{tikzpicture}[scale=0.8]\n\n    % Left cross node\n    \\node[draw, cross out, minimum size=0.5cm, thick] (cross) at (0,0) {};\n    \\node[below left=-0.1cm of cross.south west] {$a_v$};\n    \\node[above left=-0.1cm of cross.north west] {$b_v$};\n    \\node[below right=-0.1cm of cross.south east] {$j_v$};\n    \\node[above right=-0.1cm of cross.north east] {$i_v$};\n\n    % Right grid with arrows\n    \\begin{scope}[xshift=6cm]\n        \\draw[step=1, ultra thin, gray] (-0.5,-2.5) grid (5,2.5);\n\n        % Horizontal and vertical lines\n        \\foreach \\y in {-2,...,2} {\n            \\draw[thin, black] (-0.5,\\y) -- (5,\\y);\n        }\n        \\foreach \\x in {0,...,5} {\n            \\draw[thin, black] (\\x,-2.5) -- (\\x,2.5);\n        }\n\n        % Arrows\n        \\draw[->, thick, green!70!black, Stealth-Stealth] (0,0) -- ++(0,1);\n        \\draw[->, thick, blue!70!black, Stealth-Stealth] (1,0) -- ++(1,0);\n        \\draw[->, thick, orange!70!black, Stealth-Stealth] (2,0) -- ++(0,1);\n        \\draw[->, thick, red!70!black, Stealth-Stealth] (3,0) -- ++(1,0);\n\n        % Labels for y-axis\n        \\foreach \\y [count=\\i from 0] in {-2,...,2} {\n            \\node[anchor=east] at (-0.5,\\y) {\\footnotesize $\\i$};\n        }\n\n        % Arrow labels\n        \\node[right=0.5cm] at (5,2) {\\footnotesize $j(4,2) = 0$};\n        \\node[right=0.5cm] at (5,1) {\\footnotesize $j(4,1) = -1$};\n        \\node[right=0.5cm] at (5,0) {\\footnotesize $j(4,0) = -\\infty$};\n        \\node[right=0.5cm] at (5,-1) {\\footnotesize $j(4,-1) = -2$};\n        \\node[right=0.5cm] at (5,-2) {\\footnotesize $j(4,-2) = -\\infty$};\n\n        % Origin label\n        \\node[anchor=north] at (0,-2.5) {\\footnotesize $(0, -3)$};\n    \\end{scope}\n\\end{tikzpicture}\n\\end{document}",
  "compiled_successfully": true,
  "ground_truth": "\\documentclass[english,11pt, reqno, oneside]{amsart}\n\\usepackage{amsmath}\n\\usepackage{amssymb}\n\\usepackage[usenames,dvipsnames]{xcolor}\n\\usepackage[colorlinks=true,linkcolor=blue!95!black, citecolor = green!55!black,bookmarksdepth=3]{hyperref}\n\\usepackage{tikz}\n\\usetikzlibrary{calc}\n\\usetikzlibrary{math}\n\\usetikzlibrary{decorations.markings, decorations.pathreplacing,shapes.misc}\n\n\\begin{document}\n\n\\begin{tikzpicture}[scale=0.7]\n\n\\begin{scope}[shift={(-7.5,1.5)}, scale=0.9]\n\n\\draw[line width=1pt] (0,0) -- ++(3,0);\n\\draw[line width=1pt] (1.5,-1.5) -- ++(0,3);\n\n\\node[anchor = east] at (0,0) {$i_v$};\n\\node[anchor = west] at (3,0) {$j_v$};\n\\node[anchor = north] at (1.5,-1.5) {$a_v$};\n\\node[anchor = south] at (1.5,1.5) {$b_v$};\n\\end{scope}\n\n\\draw (0,-1) grid (4,4.4);\n\n\\draw[red, very thick, ->] (0,0) -- ++(1,0) -- ++(0,1) -- ++(3,0);\n\n\\draw[blue, very thick, ->] (0,1) -- ++(1,0) -- ++(0,1) -- ++(2,0) -- ++(0,1) -- ++(1,0);\n\n\\draw[green!60!black, very thick, ->] (0,3) -- ++(1,0) -- ++(0,1.4);\n\n\\draw[orange, very thick, ->] (0,2) -- ++(1,0) -- ++(0,1) -- ++(1,0) -- ++(0,1) -- ++(2,0);\n\n\\draw[cyan, very thick, ->] (0,4) -- ++(2,0)-- ++(0,0.4);\n\n\n\n\\foreach \\x in {-2,...,2}\n{\n  \\node[anchor=east, scale=0.8] at (0,\\x+2) {$\\x$};\n}\n\n\\node[circle, fill, inner sep=1pt] at (0,-1) {};\n\\node[anchor=east, scale=0.8] at (0,-1) {$(0,-3)$};\n\n\\node[anchor=west, scale=0.8] at (4,0) {$j_{(4,-2)}=-\\infty$};\n\\node[anchor=west, scale=0.8] at (4,1) {$j_{(4,-1)}=-2$};\n\\node[anchor=west, scale=0.8] at (4,2) {$j_{(4,0)}=-\\infty$};\n\\node[anchor=west, scale=0.8] at (4,3) {$j_{(4,1)}=-1$};\n\\node[anchor=west, scale=0.8] at (4,4) {$j_{(4,2)}=0$};\n\n\n\\end{tikzpicture}\n\n\\end{document}",
  "attempts": 1,
  "temperature": 0.8,
  "max_new_tokens": 2048,
  "max_attempts": 5,
  "lora_path": "/home/yuwenhan/LLaMA-Factory/saves/Qwen2.5-VL-7B-Instruct/lora/train_2025-09-06-16-37-47/checkpoint-40",
  "lora_merged": false,
  "dtype": "auto",
  "device": "multi-GPU (device_map=auto)",
  "base_model": "/mnt/data/model/Qwen2.5-VL-32B-Instruct",
  "instruction_path": "/home/yuwenhan/Tikz/Gen_Eval_Tikz/two_strategies/instruction/gpt-4o/test_13.md",
  "image_path": "../eval_dataset/images/test_13.png",
  "used_instruction": true,
  "two_stage": true,
  "require_instruction": false
}