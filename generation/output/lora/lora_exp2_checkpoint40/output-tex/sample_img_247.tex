documentclass[10pt]{standalone}
\usepackage{tikz}
\usetikzlibrary{matrix}
\usetikzlibrary{positioning}
\begin{document}
\begin{tikzpicture}[scale=1]
\draw[->] (-1.2,0) -- (1.2,0);
\draw[->] (0,-0.5) -- (0,1.2);
\node[below=of {(0,0)}] {\small time};
\node[left=of {(0,0)}] {\small input};
\draw[->] (-1.2,0) -- (1.2,0);
\draw[->] (0,-0.5) -- (0,1.2);
\node[below=of {(0,0)}] {\small state};
\foreach \i/\j in {0.6/1,0.3/2,0.2/3,-0.4/4,-0.7/5} {
  \draw[color=red,\j,line width=1pt,fill=white] (\i*\j,0.5*\j) -- (\i*\j,-0.5*\j) -- (-\i*\j,-0.5*\j) -- (-\i*\j,0.5*\j) -- cycle;
}
\foreach \i/\j in {-1/-1,0/-1,1/-1} {
  \node[right=of {(0.6*\j,0.5*\j)},anchor=north east] {\footnotesize $u^\i$};
}
\foreach \i/\j in {1/-1,2/-1,3/-1} {
  \node[right=of {(0.3*\j,0.5*\j)},anchor=north east] {\footnotesize $u^\i$};
}
\foreach \i/\j in {-1/-1,0/-1,1/-1} {
  \node[right=of {(0.2*\j,0.5*\j)},anchor=north east] {\footnotesize $u^\i$};
}
\foreach \i/\j in {-1/-1,0/-1,1/-1} {
  \node[right=of {(-0.4*\j,0.5*\j)},anchor=north west] {\footnotesize $x^\i$};
}
\foreach \i/\j in {-1/-1,0/-1,1/-1} {
  \node[right=of {(-0.7*\j,0.5*\j)},anchor=north west] {\footnotesize $x^\i$};
}
\foreach \i/\j in {-1/-1,0/-1,1/-1} {
  \node[right=of {(-0.8*\j,0.5*\j)},anchor=north west] {\footnotesize $x^\i$};
}
\foreach \i/\j in {-1/-1,0/-1,1/-1} {
  \node[right=of {(-1.5*\j,0.5*\j)},anchor=north east] {\footnotesize $u^\i$};
}
\foreach \i/\j in {-1/-1,0/-1,1/-1} {
  \node[right=of {(-1.9*\j,0.5*\j)},anchor=north east] {\footnotesize $u^\i$};
}
\foreach \i/\j in {-1/-1,0/-1,1/-1} {
  \node[right=of {(-1.6*\j,0.5*\j)},anchor=north east] {\footnotesize $u^\i$};
}
\foreach \i/\j in {-1/-1,0/-1,1/-1} {
  \node[right=of {(-1.2*\j,0.5*\j)},anchor=north east] {\footnotesize $u^\i$};
}
\foreach \i/\j in {-1/-1,0/-1,1/-1} {
  \node[right=of {(-0.8*\j,0.5*\j)},anchor=north east] {\footnotesize $u^\i$};
}
\foreach \i/\j in {-1/-1,0/-1,1/-1} {
  \node[right=of {(-0.6*\j,0.5*\j)},anchor=north east] {\footnotesize $u^\i$};
}
\foreach \i/\j in {-1/-1,0/-1,1/-1} {
  \node[right=of {(-0.4*\j,0.5*\j)},anchor=north east] {\footnotesize $u^\i$};
}
\foreach \i/\j in {-1/-1,0/-1,1/-1} {
  \node[right=of {(-0.2*\j,0.5*\j)},anchor=north east] {\footnotesize $u^\i$};
}
\foreach \i/\j in {-1/-1,0/-1,1/-1} {
  \node[right=of {(-0.1*\j,0.5*\j)},anchor=north east] {\footnotesize $u^\i$};
}
\foreach \i/\j in {-1/-1,0/-1,1/-1} {
  \node[right=of {(-0.1*\j,0.5*\j)},anchor=north east] {\footnotesize $u^\i$};
}
\end{tikzpicture}
\end{document}