\documentclass{article}
\usepackage{tikz}
\usetikzlibrary{positioning, arrows.meta, fit}

\begin{document}

\begin{tikzpicture}[
    node distance = 1cm and 1.5cm,
    box/.style = {draw, fill=gray!20, minimum width=3cm, minimum height=1.5cm, align=center},
    arrow/.style = {-Stealth, thick},
    transformer/.style = {draw=orange, dashed, rounded corners, inner sep=5pt},
    grid/.style = {matrix of nodes, nodes={draw, minimum size=4mm}, column sep=-\pgflinewidth, row sep=-\pgflinewidth},
]

% Input Grid
\node[grid, matrix anchor=south west, label={[anchor=north east, yshift=-0.5em]below:Input}] (input)
{
    $\vdots$ & $\vdots$ & $\vdots$ & $\vdots$ & $\vdots$ & $\vdots$ \\
    $\vdots$ & $\vdots$ & $\vdots$ & $\vdots$ & $\vdots$ & $\vdots$ \\
    $\vdots$ & $\vdots$ & $\vdots$ & $\vdots$ & $\vdots$ & $\vdots$ \\
    $\vdots$ & $\vdots$ & $\vdots$ & $\vdots$ & $\vdots$ & $\vdots$ \\
    $\vdots$ & $\vdots$ & $\vdots$ & $\vdots$ & $\vdots$ & $\vdots$ \\
};

% Embedding Box
\node[box, right=of input] (embedding) {Embedding};

% Transformer Blocks
\node[box, right=of embedding, label={[anchor=north east, yshift=-0.5em]above:Transformer Block}] (spatial) {Spatial\\Mixing};
\node[box, right=of spatial] (channel) {Channel\\Mixing};
\node[dotted, transformer, fit=(spatial)(channel), label={[anchor=south, yshift=-1em]below:$L$ times}] {};

% Linear Head
\node[box, right=of channel] (linear) {Linear\\Head};

% Arrows
\draw[arrow] (input.east) -- (embedding.west);
\draw[arrow] (embedding.east) -- (spatial.west);
\draw[arrow] (spatial.east) -- (channel.west);
\draw[arrow] (channel.east) -- (linear.west);

% Lines pointing to embedding
\foreach \i in {1,...,6}
    \draw[<-, shorten <=2mm, shorten >=2mm] (input-\i-6.north east) -- ++(150:0.75) node[above, rotate=90, xshift=-1mm] {\small $t_{\i}$};

\end{tikzpicture}

\end{document}