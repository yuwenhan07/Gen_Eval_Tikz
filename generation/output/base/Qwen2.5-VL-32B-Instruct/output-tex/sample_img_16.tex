\documentclass{article}
\usepackage{amsmath}
\usepackage{tikz}
\usetikzlibrary{matrix, decorations.pathreplacing, positioning}

\begin{document}

\begin{figure}[ht]
    \centering
    \begin{tikzpicture}[every left delimiter/.style={xshift=3pt}, every right delimiter/.style={xshift=-3pt}]
        % Define styles
        \tikzset{
            mygrid/.style={
                matrix of nodes,
                nodes in empty cells,
                nodes={minimum width=1.5em, minimum height=1.5em, draw, anchor=center},
                row sep=-\pgflinewidth,
                column sep=-\pgflinewidth,
                inner sep=0pt,
                outer sep=0pt,
                row 1/.style={nodes={draw=none}},
            },
            highlight/.style={fill=yellow!20},
            label/.style={font=\footnotesize, anchor=west},
        }
        
        % Define the grid size and parameters
        \def\nrows{12}
        \def\ncols{16}
        \def\cellwidth{1.5em}
        \def\cellheight{1.5em}
        
        % Main matrices
        \matrix (M1) [mygrid, matrix anchor=north west, row 1/.style={nodes={draw=none}}] at (0,0) {
            1 & & & & & & & & & & |[highlight]|11 & |[highlight]|12 & & & & \\
            2 & & & & & & & & & & |[highlight]|11 & |[highlight]|12 & & & & \\
            3 & & & & & & & & & & |[highlight]|11 & |[highlight]|12 & & & & \\
            4 & & & & & & & & & & |[highlight]|11 & |[highlight]|12 & & & & \\
        };
        \node[label] at (-1.5*\cellwidth, 0.5*\cellheight) {$\mathcal{C}_1$};
        \foreach \i in {1,...,4}
            \node[label] at (-2.5*\cellwidth, -(\i-1)*\cellheight) {$\succ_{\i}$};
        
        \matrix (M2) [mygrid, matrix anchor=north west, below=of M1.south west] {
            5 & & & & & & & & |[highlight]|11 & |[highlight]|12 & & & & & & \\
            6 & & & & & & & & |[highlight]|11 & |[highlight]|12 & & & & & & \\
            7 & & & & & & & & |[highlight]|11 & |[highlight]|12 & & & & & & \\
            8 & & & & & & |[highlight]|11 & |[highlight]|12 & & & & & & & & \\
        };
        \node[label] at (-1.5*\cellwidth, 0.5*\cellheight) {$\mathcal{C}_2$};
        \foreach \i in {1,...,4}
            \node[label] at (-2.5*\cellwidth, -(\i-1)*\cellheight) {$\succ_{\i+4}$};
        
        \matrix (M3) [mygrid, matrix anchor=north west, below=of M2.south west] {
            9 & |[highlight]|11 & |[highlight]|12 & & & & & & & & & & & & & \\
            10 & |[highlight]|11 & |[highlight]|12 & & & & & & & & & & & & & \\
            11 & |[highlight]|11 & |[highlight]|12 & & & & & & & & & & & & & \\
            12 & & & & & & & & & & & & & & & \\
        };
        \node[label] at (-1.5*\cellwidth, 0.5*\cellheight) {$\mathcal{C}_3$};
        \foreach \i in {1,...,4}
            \node[label] at (-2.5*\cellwidth, -(\i-1)*\cellheight) {$\succ_{\i+8}$};
        
        \matrix (M4) [mygrid, matrix anchor=north west, below=of M3.south west] {
            13 & & & & & & & & & & & |[highlight]|11 & |[highlight]|12 & & & \\
            14 & & & & & & & & & & & |[highlight]|11 & |[highlight]|12 & & & \\
            15 & & & & & & & & & & & |[highlight]|11 & |[highlight]|12 & & & \\
            16 & & & & & & & & & & & |[highlight]|11 & |[highlight]|12 & & & \\
        };
        \node[label] at (-1.5*\cellwidth, 0.5*\cellheight) {$\mathcal{C}_4$};
        \foreach \i in {1,...,4}
            \node[label] at (-2.5*\cellwidth, -(\i-1)*\cellheight) {$\succ_{\i+12}$};
        
        % Add labels for t and t^2
        \node[label] at (\ncols*\cellwidth/2, -4*\cellheight) {$t$};
        \node[label] at (\ncols*\cellwidth + 1.5*\cellwidth, -4*\cellheight) {$t^2$};
        
        % Right side column
        \matrix (R) [mygrid, matrix anchor=north east, right=of M1.north east, nodes={minimum width=1.5em}] {
            17 & 18 \\
            & \\
            & \\
            & \\
            17 & 18 \\
            & \\
            & \\
            & \\
            17 & 18 \\
            & \\
            & \\
            & \\
            17 & 18 \\
        };
        
        % Add braces and labels for upper/lower halves
        \draw[decorate, decoration={brace, amplitude=6pt, mirror, raise=3pt}]
            ([yshift=-1pt]R-1-1.north west) -- ([yshift=-1pt]R-5-1.south west)
            node[midway, left=6pt, align=center] {Upper half of $\mathcal{C}_3$};
        \draw[decorate, decoration={brace, amplitude=6pt, mirror, raise=3pt}]
            ([yshift=-1pt]R-6-1.north west) -- ([yshift=-1pt]R-12-1.south west)
            node[midway, left=6pt, align=center] {Lower half of $\mathcal{C}_3$};
    \end{tikzpicture}
    \caption{An example of our lower bound construction in Theorem~\ref{thm:0/1_valued_1_query_lower_bound} where $m = 18$. Hence, we set $t=4$ and $n=t^2=16$, resulting in the profile $P$ shown above. In every agent's ranking (horizontal bars), the example mentions the top-ranked alternative. Additionally, we marked alternatives $11$ and $12$ in every ranking to showcase the symmetry of $P$. Alternatives $17$ and $18$ are shown for two agents of every cohort. Notice that these alternatives appear in the exact same positions of every agent's ranking.}
    \label{fig:lower_bound_example}
\end{figure}

\end{document}