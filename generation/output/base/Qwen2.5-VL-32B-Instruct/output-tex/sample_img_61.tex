\documentclass[tikz,border=5mm]{standalone}
\usepackage{amsmath}
\usetikzlibrary{shapes.geometric, positioning, fit}

% Define styles for nodes
\tikzset{
    value/.style = {circle, fill=green!50, draw, inner sep=2pt},
    variable/.style = {circle, fill=red!70, draw, inner sep=2pt},
    constraint/.style = {circle, fill=blue!50, draw, inner sep=2pt},
    model/.style = {circle, fill=yellow!50, draw, inner sep=2pt},
    operator/.style = {circle, fill=orange!50, draw, inner sep=2pt},
    tuple/.style = {circle, fill=brown!50, draw, inner sep=2pt},
    label/.style = {rectangle, fill=white, draw=none, inner sep=2pt},
    background/.style = {fill=gray!20, rounded corners, draw=black!50, opacity=0.8}
}

\begin{document}
\begin{tikzpicture}[node distance=1.5cm]

% Nodes
\node[value] (v1) at (0,0) {$1$};
\node[value] (v2) at (4,0) {$2$};
\node[value] (v3) at (8,0) {$3$};

\node[variable] (x1) at (2,-2) {$x_1$};
\node[variable] (x2) at (6,-2) {$x_2$};

\node[constraint] (c1) at (4,-3) {$\textsf{ext}$};
\node[constraint] (c2) at (4,-1) {$\leq$};

\node[model] (M) at (4,-2) {$M$};

\node[tuple] (t1) at (2,-4) {$t_1$};
\node[tuple] (t2) at (6,-4) {$t_2$};

\node[operator] (op1) at (2,-3) {$\cdot$};
\node[operator] (op2) at (6,-3) {$\cdot$};

\node[label] (lhslbl) at (2,1) {\texttt{lhs}};
\node[label] (rhslbl) at (6,1) {\texttt{rhs}};

\node[operator] (opLHS) at (2,-0.5) {$\times 3$};
\node[operator] (opRHS) at (6,-0.5) {$\times 4$};

% Edges
\draw (v1) -- (x1);
\draw (v2) -- (x1);
\draw (v3) -- (x2);

\draw (x1) -- (c1);
\draw (x2) -- (c1);
\draw (x1) -- (c2);
\draw (x2) -- (c2);

\draw (M) -- (c1);
\draw (M) -- (c2);
\draw (M) -- (x1);

\draw (t1) -- (c1);
\draw (t2) -- (c1);

\draw (t1) -- (op1);
\draw (op1) -- (x1);
\draw (t2) -- (op2);
\draw (op2) -- (x2);

\draw (x1) -- (opLHS);
\draw (opLHS) -- (c2);
\draw (x2) -- (opRHS);
\draw (opRHS) -- (c2);

% Background boxes
\node[background, fit=(lhslbl) (opLHS)] {};
\node[background, fit=(rhslbl) (opRHS)] {};

% Annotations
\node[right=0.1cm of lhslbl] {\texttt{lhs}};
\node[right=0.1cm of rhslbl] {\texttt{rhs}};

\end{tikzpicture}
\end{document}