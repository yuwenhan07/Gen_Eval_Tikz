# 顶层定义变量（推荐）
checkpoint: 100

# 模型与设备
model:
  model_path: /mnt/data/model/Qwen2.5-VL-7B-Instruct
  device: cuda
  dtype: auto
  # 填上路径=启用LoRA；为 null/删除=不启用LoRA
  enable_lora: False
  lora_path:  /home/yuwenhan/LLaMA-Factory/saves/Qwen2.5-VL-7B-Instruct/lora/train_2025-09-04-13-44-28/checkpoint-${checkpoint} # /path/to/checkpoint-${checkpoint}
  lora_merge: true

# 数据集位置
data:
  metadata_path: ../eval_dataset/test_metadata.json
  base_dir: ../eval_dataset

# 生成参数（保留原字段；脚本里会记录到结果JSON）
gen:
  do_sample: true
  temperature: 0.8
  max_new_tokens: 2048
  top_p: 0.9

# 运行控制
run:
  max_attempts: 2
  limit: 3


# （新）启用 LoRA 时的输出目录
outputs_lora:
  json_dir: output/lora/checkpoint${checkpoint}/original-output
  tex_dir:  output/lora/checkpoint${checkpoint}/output-tex
  pdf_dir:  save/lora/checkpoint${checkpoint}/pdf
  png_dir:  save/lora/checkpoint${checkpoint}/png
  log_dir:  save/lora/checkpoint${checkpoint}/log

# （新）不启用 LoRA 时的输出目录
outputs_base:
  json_dir: output/base/original-output
  tex_dir:  output/base/output-tex
  pdf_dir:  save/base/pdf
  png_dir:  save/base/png
  log_dir:  save/base/log

output_log:
  log_dir : log/